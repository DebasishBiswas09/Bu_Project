{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"D:\\\\GNIT\\\\Eighth Semester\\\\Capgemini\\\\BU\\\\Code\\\\src\\\\components1\\\\AddTrain.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport { Link, useNavigate, useParams } from \"react-router-dom\";\nimport userservice from \"../service/userservice\";\nimport trainservice from \"../service/trainservice\";\nimport AuthService from \"../service/auth-service\"; // import \"bootstrap/dist/css/bootstrap.min.css\";\n\nlet p = localStorage.getItem(\"username\");\n\nconst Addtrain = () => {\n  _s();\n\n  const [train_no, setTrainNo] = useState([]);\n  const [train_name, setTrainName] = useState(\"\");\n  const [start_from, setStartFrom] = useState(\"\");\n  const [departure_time, setDepartureTime] = useState(\"\");\n  const [to_destination, setToDestination] = useState(\"\");\n  const [arrival_time, setArrivalTime] = useState(\"\");\n  const [price, setPrice] = useState(\"\");\n  const navigate = useNavigate();\n  const {\n    id\n  } = useParams();\n\n  const saveTrain = e => {\n    e.preventDefault();\n    const train = {\n      train_no,\n      train_name,\n      start_from,\n      departure_time,\n      to_destination,\n      arrival_time,\n      price,\n      id\n    };\n\n    if (id) {\n      console.log(\"fetching id\", id); //update\n\n      trainservice.update(train).then(response => {\n        console.log(\"Train details updated successfully\", response.data);\n        navigate(\"/trainlist1\");\n      }).catch(error => {\n        console.log(\"Something went wrong\", error);\n      });\n    } else {\n      // create\n      userservice.createTrainDetails(train).then(response => {\n        console.log(\"Train details added successfully\", response.data);\n        navigate(\"/trainlist1\");\n      }).catch(error => {\n        console.log(\"Something went wrong\", error);\n      });\n    }\n  };\n\n  useEffect(() => {\n    if (id) {\n      trainservice.get(id).then(train => {\n        setTrainNo(train.data.train_no);\n        setTrainName(train.data.train_name);\n        setStartFrom(train.data.start_from);\n        setDepartureTime(train.data.departure_time);\n        setToDestination(train.data.to_destination);\n        setArrivalTime(train.data.arrival_time);\n        setPrice(train.data.price);\n      }).catch(error => {\n        console.log(\"Something went wrong\", error);\n      });\n    }\n  }, []);\n\n  function SubmitBtn() {\n    if (train_no && train_name && start_from && departure_time && to_destination && arrival_time && price) return /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: o => saveTrain(o),\n      className: \"btn btn-success\",\n      children: \"Save\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }, this);else return /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-success\",\n      disabled: true,\n      children: \"Save\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      style: {\n        color: \"white\",\n        fontWeight: \"bolder\",\n        fontSize: \"40px\"\n      },\n      children: \"Add and Update Train Details\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control col-4 is-invalid\",\n          id: \"train_no\",\n          value: train_no,\n          onChange: e => setTrainNo(e.target.value),\n          placeholder: \"Enter Train No\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control col-4 is-invalid\",\n          id: \"train_name\",\n          value: train_name,\n          onChange: e => setTrainName(e.target.value),\n          placeholder: \"Enter Train Name\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control col-4 is-invalid\",\n          id: \"start_from\",\n          value: start_from,\n          onChange: e => setStartFrom(e.target.value),\n          placeholder: \"Enter Start from\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control col-4 is-invalid\",\n          id: \"departure_time\",\n          value: departure_time,\n          onChange: e => setDepartureTime(e.target.value),\n          placeholder: \"Enter Departure Time\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control col-4 is-invalid\",\n          id: \"to_destination\",\n          value: to_destination,\n          onChange: e => setToDestination(e.target.value),\n          placeholder: \"Enter To Destination\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control col-4 is-invalid\",\n          id: \"arrival_time\",\n          value: arrival_time,\n          onChange: e => setArrivalTime(e.target.value),\n          placeholder: \"Enter Arrival Time\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          className: \"form-control col-4 is-invalid\",\n          id: \"price\",\n          value: price,\n          onChange: e => setPrice(e.target.value),\n          placeholder: \"Enter Price\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(SubmitBtn, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      className: \"btn btn-warning\",\n      to: \"/Adminprofile\",\n      children: \"Back to Profile\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 104,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Addtrain, \"XXJWjw2sXmxfoxSjfY0G5sK4NFg=\", false, function () {\n  return [useNavigate, useParams];\n});\n\n_c = Addtrain;\nexport default Addtrain;\n\nvar _c;\n\n$RefreshReg$(_c, \"Addtrain\");","map":{"version":3,"sources":["D:/GNIT/Eighth Semester/Capgemini/BU/Code/src/components1/AddTrain.js"],"names":["React","useState","useEffect","Link","useNavigate","useParams","userservice","trainservice","AuthService","p","localStorage","getItem","Addtrain","train_no","setTrainNo","train_name","setTrainName","start_from","setStartFrom","departure_time","setDepartureTime","to_destination","setToDestination","arrival_time","setArrivalTime","price","setPrice","navigate","id","saveTrain","e","preventDefault","train","console","log","update","then","response","data","catch","error","createTrainDetails","get","SubmitBtn","o","color","fontWeight","fontSize","target","value"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { Link, useNavigate, useParams } from \"react-router-dom\";\r\nimport userservice from \"../service/userservice\";\r\nimport trainservice from \"../service/trainservice\";\r\nimport AuthService from \"../service/auth-service\";\r\n// import \"bootstrap/dist/css/bootstrap.min.css\";\r\nlet p = localStorage.getItem(\"username\");\r\nconst Addtrain = () => {\r\n  const [train_no, setTrainNo] = useState([]);\r\n  const [train_name, setTrainName] = useState(\"\");\r\n  const [start_from, setStartFrom] = useState(\"\");\r\n  const [departure_time, setDepartureTime] = useState(\"\");\r\n  const [to_destination, setToDestination] = useState(\"\");\r\n  const [arrival_time, setArrivalTime] = useState(\"\");\r\n  const [price, setPrice] = useState(\"\");\r\n\r\n  const navigate = useNavigate();\r\n  const { id } = useParams();\r\n\r\n  const saveTrain = (e) => {\r\n    e.preventDefault();\r\n\r\n    const train = {\r\n      train_no,\r\n      train_name,\r\n      start_from,\r\n      departure_time,\r\n      to_destination,\r\n      arrival_time,\r\n      price,\r\n      id,\r\n    };\r\n\r\n    if (id) {\r\n      console.log(\"fetching id\", id);\r\n      //update\r\n      trainservice\r\n        .update(train)\r\n        .then((response) => {\r\n          console.log(\"Train details updated successfully\", response.data);\r\n\r\n          navigate(\"/trainlist1\");\r\n        })\r\n\r\n        .catch((error) => {\r\n          console.log(\"Something went wrong\", error);\r\n        });\r\n    } else {\r\n      // create\r\n      userservice\r\n        .createTrainDetails(train)\r\n        .then((response) => {\r\n          console.log(\"Train details added successfully\", response.data);\r\n          navigate(\"/trainlist1\");\r\n        })\r\n        .catch((error) => {\r\n          console.log(\"Something went wrong\", error);\r\n        });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (id) {\r\n      trainservice\r\n        .get(id)\r\n        .then((train) => {\r\n          setTrainNo(train.data.train_no);\r\n          setTrainName(train.data.train_name);\r\n          setStartFrom(train.data.start_from);\r\n          setDepartureTime(train.data.departure_time);\r\n          setToDestination(train.data.to_destination);\r\n          setArrivalTime(train.data.arrival_time);\r\n          setPrice(train.data.price);\r\n        })\r\n        .catch((error) => {\r\n          console.log(\"Something went wrong\", error);\r\n        });\r\n    }\r\n  }, []);\r\n  function SubmitBtn() {\r\n    if (\r\n      train_no &&\r\n      train_name &&\r\n      start_from &&\r\n      departure_time &&\r\n      to_destination &&\r\n      arrival_time &&\r\n      price\r\n    )\r\n      return (\r\n        <button onClick={(o) => saveTrain(o)} className=\"btn btn-success\">\r\n          Save\r\n        </button>\r\n      );\r\n    else\r\n      return (\r\n        <button className=\"btn btn-success\" disabled>\r\n          Save\r\n        </button>\r\n      );\r\n  }\r\n  return (\r\n    <div className=\"container\">\r\n      <h3 style={{ color: \"white\", fontWeight: \"bolder\", fontSize: \"40px\" }}>\r\n        Add and Update Train Details\r\n      </h3>\r\n      <hr />\r\n      <form>\r\n        <div className=\"form-group\">\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control col-4 is-invalid\"\r\n            id=\"train_no\"\r\n            value={train_no}\r\n            onChange={(e) => setTrainNo(e.target.value)}\r\n            placeholder=\"Enter Train No\"\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control col-4 is-invalid\"\r\n            id=\"train_name\"\r\n            value={train_name}\r\n            onChange={(e) => setTrainName(e.target.value)}\r\n            placeholder=\"Enter Train Name\"\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control col-4 is-invalid\"\r\n            id=\"start_from\"\r\n            value={start_from}\r\n            onChange={(e) => setStartFrom(e.target.value)}\r\n            placeholder=\"Enter Start from\"\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control col-4 is-invalid\"\r\n            id=\"departure_time\"\r\n            value={departure_time}\r\n            onChange={(e) => setDepartureTime(e.target.value)}\r\n            placeholder=\"Enter Departure Time\"\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control col-4 is-invalid\"\r\n            id=\"to_destination\"\r\n            value={to_destination}\r\n            onChange={(e) => setToDestination(e.target.value)}\r\n            placeholder=\"Enter To Destination\"\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control col-4 is-invalid\"\r\n            id=\"arrival_time\"\r\n            value={arrival_time}\r\n            onChange={(e) => setArrivalTime(e.target.value)}\r\n            placeholder=\"Enter Arrival Time\"\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <input\r\n            type=\"number\"\r\n            className=\"form-control col-4 is-invalid\"\r\n            id=\"price\"\r\n            value={price}\r\n            onChange={(e) => setPrice(e.target.value)}\r\n            placeholder=\"Enter Price\"\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          {/* <button onClick={(e) => saveOrd(e)} className=\"btn btn-primary\">\r\n            Save\r\n          </button> */}\r\n          <SubmitBtn />\r\n        </div>\r\n      </form>\r\n      <hr />\r\n      <Link className=\"btn btn-warning\" to=\"/Adminprofile\">\r\n        Back to Profile\r\n      </Link>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Addtrain;\r\n"]},"metadata":{},"sourceType":"module"}